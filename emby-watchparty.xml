<?xml version="1.0" encoding="utf-8"?>
<Container version="2">
  <Name>emby-watchparty</Name>
  <Repository>ghcr.io/oratorian/emby-watchparty:latest</Repository>
  <Registry>https://ghcr.io/oratorian/emby-watchparty</Registry>
  <GitHub>https://github.com/Oratorian/emby-watchparty</GitHub>
  <Network>bridge</Network>
  <Privileged>false</Privileged>
  <Support>https://github.com/Oratorian/emby-watchparty/issues</Support>
  <Project>https://github.com/Oratorian/emby-watchparty</Project>
  <Overview>A synchronized watch party application for Emby media servers. Watch videos together with friends in real-time, no matter where you are! All media streaming is proxied through the Flask app, keeping your Emby server safely on your internal network.</Overview>
  <Category>MediaApp:Video Status:Stable</Category>
  <WebUI>http://[IP]:[PORT:5000]</WebUI>
  <TemplateURL/>
  <Icon>https://raw.githubusercontent.com/Oratorian/emby-watchparty/main/static/favicon.ico</Icon>
  <ExtraParams/>
  <PostArgs/>
  <Shell>sh</Shell>
  <Beta>False</Beta>

  <!-- Port -->
  <Config Name="Web UI Port" Target="5000" Default="5000" Mode="tcp"
          Description="Port for the emby-watchparty web interface."
          Type="Port" Display="always" Required="true" Mask="false">5000</Config>

  <!-- Required environment variables -->
  <Config Name="Emby Server URL" Target="EMBY_SERVER_URL" Default="http://192.168.1.x:8096"
          Description="Full URL to your Emby server, e.g. http://192.168.1.100:8096"
          Type="Variable" Display="always" Required="true" Mask="false">http://192.168.1.x:8096</Config>

  <Config Name="Emby API Key" Target="EMBY_API_KEY" Default=""
          Description="Your Emby API key. Generate one in Emby Dashboard > Advanced > API Keys."
          Type="Variable" Display="always" Required="true" Mask="true"></Config>

  <Config Name="Emby Username" Target="EMBY_USERNAME" Default=""
          Description="Emby username used to authenticate and proxy HLS streams."
          Type="Variable" Display="always" Required="true" Mask="false"></Config>

  <Config Name="Emby Password" Target="EMBY_PASSWORD" Default=""
          Description="Password for the Emby user above."
          Type="Variable" Display="always" Required="true" Mask="true"></Config>

  <!-- Optional / logging -->
  <Config Name="Log To File" Target="LOG_TO_FILE" Default="false"
          Description="Set to false (recommended for Docker) to output logs to stdout only. Set to true to write logs to a file."
          Type="Variable" Display="advanced" Required="false" Mask="false">false</Config>

  <!-- Optional: mount a .env file instead of / in addition to individual vars -->
  <Config Name="ENV File Path (optional)" Target="/app/.env" Default="/mnt/user/appdata/emby-watchparty/.env"
          Description="Optional: mount a .env file into the container. If set, values in this file will be used. Individual env vars above take precedence."
          Type="Path" Display="advanced" Required="false" Mode="ro">/mnt/user/appdata/emby-watchparty/.env</Config>

  <!-- App data / config volume -->
  <Config Name="App Config Directory" Target="/app/config" Default="/mnt/user/appdata/emby-watchparty"
          Description="Path on the host where emby-watchparty will store any persistent config or state."
          Type="Path" Display="advanced" Required="false" Mode="rw">/mnt/user/appdata/emby-watchparty</Config>

</Container>
