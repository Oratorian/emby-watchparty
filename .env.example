# Emby Watch Party Configuration
# Copy this file to .env and update with your settings

# ============== Application Configuration ==============
WATCH_PARTY_BIND=0.0.0.0
WATCH_PARTY_PORT=5000

# Base URL prefix for reverse proxy deployments
# Example: APP_PREFIX=/watchparty for https://example.com/watchparty/
# Leave empty or comment out for root deployment (default)
#APP_PREFIX=/watchparty

REQUIRE_LOGIN=false
SESSION_EXPIRY=86400

# Static session mode - single persistent party that auto-creates on startup
# Users navigating to / are redirected straight into the party (no create/join page)
# Useful for home servers with a small group of regulars
STATIC_SESSION_ENABLED=false
# The fixed party ID to use (default: PARTY)
#STATIC_SESSION_ID=PARTY

# ============== Emby Server Configuration ==============
EMBY_SERVER_URL=http://localhost:8096
EMBY_API_KEY=your-api-key-here
EMBY_USERNAME=your-username
EMBY_PASSWORD=your-password

# ============== Logging Configuration ==============
LOG_LEVEL=INFO
LOG_TO_FILE=false   # Set to true to enable file logging, Keep false for console only
LOG_FILE=logs/emby-watchparty.log
CONSOLE_LOG_LEVEL=WARNING
LOG_MAX_SIZE=10

# ============== Security Configuration ==============
# Party size limits (0 = unlimited)
MAX_USERS_PER_PARTY=0

# HLS token validation (prevents direct stream access bypass)
ENABLE_HLS_TOKEN_VALIDATION=true
HLS_TOKEN_EXPIRY=86400

# Rate limiting (prevents API abuse)
ENABLE_RATE_LIMITING=true
RATE_LIMIT_PARTY_CREATION=5
RATE_LIMIT_API_CALLS=1000