version: '3.8'

# Configuration options:
# 1. Use .env file: Copy .env.example to .env and configure
# 2. Use environment variables in this file (override .env)

services:
  emby-watchparty:
    build: .
    container_name: emby-watchparty
    ports:
      - "5000:5000"  # Change if using custom WATCH_PARTY_PORT
    env_file:
      - .env  # Load configuration from .env file
    # Uncomment below to override .env settings:
    # environment:
    #   - EMBY_SERVER_URL=http://your-emby-server:8096
    #   - EMBY_API_KEY=your_api_key_here
    #   - WATCH_PARTY_BIND=0.0.0.0
    #   - WATCH_PARTY_PORT=5000
    volumes:
      - ./logs:/app/logs  # Persist logs
      - ./.env:/app/.env:ro  # Mount .env file (read-only)
    restart: unless-stopped
    networks:
      - emby-network

networks:
  emby-network:
    driver: bridge
